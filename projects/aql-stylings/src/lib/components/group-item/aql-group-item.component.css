/* Force the details element to allow overflow ONLY when the summary's dropdown is open */
details.collapse:has(.dropdown-open) {
  overflow: visible !important;
}

/* Ensure the content area still clips its content for the animation to work, UNLESS a dropdown is open inside it */
.collapse-content {
  overflow: hidden !important;
}

.collapse-content:has(.dropdown-open) {
  overflow: visible !important;
}

:host ::ng-deep .menu li::before,
:host ::ng-deep .menu li > *::before {
  display: none !important;
  content: none !important;
}

details > summary {
  list-style: none;
}

details > summary::-webkit-details-marker {
  display: none;
}

/* Force the after-slot icon to receive color white when menu item inside group is focused/active/selected */
:host ::ng-deep .collapse-content > .menu > aql-menu-item .menu-item-content:not(:has(.after-slot:active)):not(:has(.after-slot:focus-within)):focus .after-slot .bi,
:host ::ng-deep .collapse-content > .menu > aql-menu-item .menu-item-content.is-interactive:not(:has(.after-slot:active)):not(:has(.after-slot:focus-within)):active .after-slot .bi,
:host ::ng-deep .collapse-content > .menu > aql-menu-item .menu-item-content.active .after-slot .bi,
:host ::ng-deep .collapse-content > .menu > aql-menu-item .menu-item-content:not(:has(.after-slot:active)):not(:has(.after-slot:focus-within)):focus .after-slot i,
:host ::ng-deep .collapse-content > .menu > aql-menu-item .menu-item-content.is-interactive:not(:has(.after-slot:active)):not(:has(.after-slot:focus-within)):active .after-slot i,
:host ::ng-deep .collapse-content > .menu > aql-menu-item .menu-item-content.active .after-slot i {
  color: var(--color-base-100) !important;
}

/* Prevent icons inside dropdown-content from receiving color white */
:host ::ng-deep .collapse-content > .menu > aql-menu-item .menu-item-content:focus .after-slot .dropdown-content .bi,
:host ::ng-deep .collapse-content > .menu > aql-menu-item .menu-item-content.is-interactive:active .after-slot .dropdown-content .bi,
:host ::ng-deep .collapse-content > .menu > aql-menu-item .menu-item-content.active .after-slot .dropdown-content .bi,
:host ::ng-deep .collapse-content > .menu > aql-menu-item .menu-item-content:focus .after-slot .dropdown-content i,
:host ::ng-deep .collapse-content > .menu > aql-menu-item .menu-item-content.is-interactive:active .after-slot .dropdown-content i,
:host ::ng-deep .collapse-content > .menu > aql-menu-item .menu-item-content.active .after-slot .dropdown-content i {
  color: inherit !important;
}
